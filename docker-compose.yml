version: "3.9"

services:
  youtube-comments-fetcher:
    build:
      context: .
      dockerfile: YouTubeCommentsFetcher.Web/Dockerfile
    image: youtube-comments-fetcher:latest
    env_file:
      - .env
    environment:
      YouTubeApiKey: ${YCF_YOUTUBE_API_KEY}
      AdminSettings__AdminApiKey: ${YCF_ADMIN_API_KEY}
      DataPath__DataDirectory: ${YCF_DATA_DIRECTORY}
    ports:
      - "${YCF_HTTP_PORT:-8080}:8080"
    volumes:
      - ./data:/app/Data
      - ./logs:/app/logs
    restart: unless-stopped
